<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>ZootoPi Blog</title>
        <link>https://zootopi.dev/blog</link>
        <description>ZootoPi Blog</description>
        <lastBuildDate>Thu, 17 Feb 2022 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[4 mẹo tận dụng tối đa Google Colab]]></title>
            <link>https://zootopi.dev/blog/2022/02/17/colab</link>
            <guid>/2022/02/17/colab</guid>
            <pubDate>Thu, 17 Feb 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[4 mẹo giúp bạn sử dụng Colab hiệu quả hơn]]></description>
            <content:encoded><![CDATA[<p>Google Colaboratory (hay còn gọi là "Colab") là một nền tảng miễn phí của Google cho phép chúng ta có thể viết và thực thi Python trong trình duyệt một cách nhanh gọn và tiện lợi. Đặc biệt, Colab hỗ trợ liên kết với tài khoản Google và cung cấp quyền truy cập hoàn toàn miễn phí vào GPU và TPU mà không yêu cầu cấu hình phức tạp trên máy cá nhân cũng như dễ dàng chia sẻ mã nguồn với cộng đồng.</p><p>Dưới đây là 1 số mẹo để các bạn có thể tận dụng tối đa Colab bản miễn phí khi viết và thực thi đoạn mã Python thông qua trình duyệt phục vụ cho công việc phân tích dữ liệu, xây dựng mô hình và giáo dục. Để khởi tạo một notebook, các bạn truy cập vào đường link sau: <a href="https://colab.research.google.com/" target="_blank" rel="noopener noreferrer">colab.research.google.com</a>.</p><p><img loading="lazy" alt="Colab tips" src="/assets/images/4_tricks_colab-8e086c48ca287b4b31ecf18c7d078b6a.png" width="940" height="788" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mẹo-số-1-sử-dụng-gpu-tpu-trong-1-nốt-nhạc">Mẹo số 1: Sử dụng GPU, TPU trong 1 nốt nhạc<a class="hash-link" href="#mẹo-số-1-sử-dụng-gpu-tpu-trong-1-nốt-nhạc" title="Direct link to heading">​</a></h2><p>Colab luôn để mặc định phần cứng là CPU. Tuy nhiên, bạn có thể dễ dàng bật hỗ trợ GPU hay thậm chí là TPU cho các tác vụ đòi hỏi tính toán nhiều như xây dựng các mô hình Học sâu.</p><p>Để làm được điều này, bạn nhấp vào <code>Edit</code>, chọn <code>Notebook settings</code>. Khi đó, 1 cửa sổ con sẽ hiện lên như sau:</p><p><img loading="lazy" alt="Cài đặt sổ tay" src="/assets/images/4_notebook_settings-0b41728f5dad2677cb66dc9ee0e5debb.png" width="786" height="638" class="img_ev3q"></p><p>Khi đó, ta trỏ vào phần <code>Hardware accelerator</code> và chọn kiểu phần cứng mong muốn. Thông thường, Colab sẽ cho ta 3 lựa chọn: None (CPU), GPU, và TPU.</p><p>Ta dễ dàng kiểm tra xem GPU đã được kích hoạt chưa bằng đoạn mã sau:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> tensorflow </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> tf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tf</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">test</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gpu_device_name</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Hiển thị chi tiết GPU với mức sử dụng thông qua câu lệnh:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">!nvidia</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">smi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Hiển thị chi tiết về CPU thông qua câu lệnh:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">!cat </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">proc</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">cpuinfo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mẹo-số-2-kết-nối-google-drive-với-colab-chuyện-nhỏ">Mẹo số 2: Kết nối Google Drive với Colab, chuyện nhỏ<a class="hash-link" href="#mẹo-số-2-kết-nối-google-drive-với-colab-chuyện-nhỏ" title="Direct link to heading">​</a></h2><p>Đây là 1 tính năng vô cùng hữu ích để chúng ta có quyền truy cập vào các tệp trên Google Drive của mình cũng như lưu các mô hình và dữ liệu của bạn tại đây. Để làm như vậy, chỉ cần nhập đoạn mã sau:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> google</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">colab </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> drive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">drive</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'/content/gdrive'</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Nếu bạn quên đoạn mã này thì đừng lo, bởi vì bạn chỉ cần chọn biểu tượng <code>Mount Drive</code> trong mục <code>Files</code> bên tay trái của Colab. Khi đó, 1 cửa sổ con sẽ hiện ra và hỏi mình có muốn để notebook truy cập vào các tệp trong Google Drive không, ta chọn <code>Connect to Google Drive</code>.</p><p><img loading="lazy" alt="Kết nối Drive và Colab" src="/assets/images/4_mount_drive-e552fea2312cb49f061b2529755f17e3.png" width="1678" height="358" class="img_ev3q"></p><p>Colab sẽ kết nối với Google Drive của các bạn và thư mục <code>drive/</code> sẽ hiện thị trong mục <code>Files</code>.</p><p><img loading="lazy" alt="Sau khi kết nối Drive và Colab" src="/assets/images/4_mounted_drive-b2efb1ab638033ffffabeec557e38536.png" width="678" height="584" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mẹo-số-3-github-và-colab-là-đôi-bạn-thân">Mẹo số 3: Github và Colab là đôi bạn thân<a class="hash-link" href="#mẹo-số-3-github-và-colab-là-đôi-bạn-thân" title="Direct link to heading">​</a></h2><p>Để có thể đọc được mã nguồn từ các file jupyter notebook lưu trên Github, ta có thể tải notebook đó xuống máy tính cá nhân rồi lại tải lên Google Drive để mở bằng Colab.</p><p><img loading="lazy" src="https://pbs.twimg.com/media/EVkOdDSWsAEQwc5.jpg" alt="Nani" class="img_ev3q"></p><p>Nghe thôi đã thấy cồng kềnh rồi. Đừng lo, Zootopi sẽ giúp bạn biến những thao tác cồng kềnh đó thành 1 bước cực kì đơn giản. Để đọc được jupyter notebook trên Github thẳng vào Colab, các bạn chỉ cần biến đổi tên miền từ <code>github.com</code> thành <code>githubtocolab.com</code> như ví dụ dưới đây là xong!</p><p><img loading="lazy" alt="Đọc code trên Github bằng Colab" src="/assets/images/4_colab-e16cad2b0a41c5132d8a378f3e919bdf.gif" width="800" height="384" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mẹo-số-4-tạm-biệt-nỗi-lo-ngắt-kết-nối-colab">Mẹo số 4: Tạm biệt nỗi lo ngắt kết nối Colab<a class="hash-link" href="#mẹo-số-4-tạm-biệt-nỗi-lo-ngắt-kết-nối-colab" title="Direct link to heading">​</a></h2><p>Đây có lẽ vấn đề nhức nhối mà Zootopi khá chắc rằng nhiều bạn đã từng gặp phải khi làm việc với Colab. Khi đang chờ mô hình huấn luyện trên Colab, Zootopi thả lỏng nghỉ ngơi và nhâm nhi cốc trà sữa trân châu đường đen chờ kết quả huấn luyện thì BÙM! Google Colab đã ngắt kết nối notebook và toàn bộ quá trình huấn luyện mô hình đã dừng lại.</p><p><img loading="lazy" src="https://33.media.tumblr.com/19a0aa2491a40ef42e1a2cb53446710e/tumblr_npp1qkBfJG1sjcsglo1_500.gif" alt="No, please! Nooo!" class="img_ev3q"></p><p>Tất nhiên, sau đó Zootopi phát hiện ra rằng Colab sẽ ngắt kết nối file notebook nếu ta để nó không hoạt động trong hơn 30 phút. Nhưng kể từ hôm nay, bạn sẽ không bao giờ phải đối mặt với vấn đề này bởi Zootopi đã tìm ra được 1 giải pháp cho vấn đề này.</p><p>Tất cả những gì chúng ta cần làm là nhấp chuột phải chọn <code>Inspect</code> và nhập đoạn mã Javascript sau vào phần <code>Console</code>:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">ConnectButton</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"Connect pushed"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">querySelector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"#top-toolbar &gt; colab-connect-button"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">shadowRoot</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">querySelector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"#connect"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">click</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">setInterval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">ConnectButton</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Khi đó, phần <code>Console</code> sẽ hiện thị như sau:</p><p><img loading="lazy" alt="Thêm đoạn mã Javascript vào Console" src="/assets/images/4_console-2df2e8617c9c794beb97654053e821f8.png" width="1102" height="1246" class="img_ev3q"></p><p>Đoạn mã nhỏ này tạo ra một cú nhấp chuột vào màn hình Colab sau mỗi 60 giây (tương ứng 60.000 mili giây ta cài đặt trong phần mã). Do đó, dù bạn không thao tác gì thì Colab vẫn sẽ nghĩ rằng sổ ghi chép đang hoạt động và bạn không phải lo lắng về việc bị ngắt kết nối nữa!</p><p>Chúc các bạn tận dụng hiểu quả Google Colab! Đón xem những trải nghiệm và phân tích cụ thể từ Zootopi tại:</p><ul><li>👉Website: <a href="https://zootopi.dev/blog" target="_blank" rel="noopener noreferrer">https://zootopi.dev/blog</a></li><li>👉Youtube: <a href="https://youtu.be/jCCbCPVXcpQ" target="_blank" rel="noopener noreferrer">https://youtu.be/jCCbCPVXcpQ</a></li><li>👉Facebook: <a href="https://www.facebook.com/aizootopi" target="_blank" rel="noopener noreferrer">https://www.facebook.com/aizootopi</a></li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[🔥XAI - Thực hành Biểu đồ Phụ thuộc Từng phần (PDP)🔥]]></title>
            <link>https://zootopi.dev/blog/2022/02/15/xai2-thuc-hanh</link>
            <guid>/2022/02/15/xai2-thuc-hanh</guid>
            <pubDate>Tue, 15 Feb 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[1. Tạo mô hình với bộ dữ liệu về giá nhà trung bình California Housing Dataset]]></description>
            <content:encoded><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-tạo-mô-hình-với-bộ-dữ-liệu-về-giá-nhà-trung-bình-california-housing-dataset">1. Tạo mô hình với bộ dữ liệu về giá nhà trung bình California Housing Dataset<a class="hash-link" href="#1-tạo-mô-hình-với-bộ-dữ-liệu-về-giá-nhà-trung-bình-california-housing-dataset" title="Direct link to heading">​</a></h2><p>California Housing Dataset gồm 20640 bản ghi với 8 đặc trưng dự đoán và nhãn <code>target</code>, trong đó các đặc trưng mang ý nghĩa như sau:</p><table><thead><tr><th>Đặc trưng</th><th>Ý nghĩa</th></tr></thead><tbody><tr><td><code>MedInc</code></td><td>Thu nhập trung bình</td></tr><tr><td><code>HouseAge</code></td><td>Tuổi nhà trung bình</td></tr><tr><td><code>AveRooms</code></td><td>Số phòng trung bình</td></tr><tr><td><code>AveBedrms</code></td><td>Số phòng ngủ trung bình</td></tr><tr><td><code>Population</code></td><td>Số thành viên hộ gia đình trung bình</td></tr><tr><td><code>AveOccup</code></td><td>Số thành viên hộ gia đình trung bình</td></tr><tr><td><code>Latitude</code></td><td>Vĩ độ</td></tr><tr><td><code>Longitude</code></td><td>Kinh độ</td></tr></tbody></table><p>Đây là tập dữ liệu có sẵn trong thư viện Sklearn nên chúng ta hoàn toàn có thế gọi ra thông qua hàm <code>fetch_california_housing()</code>. Tương tự như các bài toán học máy thông thường, ta chia dữ liệu thành tập huấn luyện và tập kiểm thử và sử dụng mô hình Random Forest để huấn luyện và dự đoán trên cả 2 tập dữ liệu đã chia.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> matplotlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pyplot </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> plt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">datasets </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> fetch_california_housing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">model_selection </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> train_test_split</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ensemble </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> RandomForestRegressor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">inspection </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> permutation_importance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metrics </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> mean_squared_error</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Khởi tạo dữ liệu</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">housing </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> fetch_california_housing</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">housing</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> columns</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">housing</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">feature_names</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Series</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">housing</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">target</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;class 'pandas.core.frame.DataFrame'&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RangeIndex: 20640 entries, 0 to 20639</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Data columns (total 8 columns):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> #   Column      Non-Null Count  Dtype  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">---  ------      --------------  -----  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 0   MedInc      20640 non-null  float64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1   HouseAge    20640 non-null  float64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2   AveRooms    20640 non-null  float64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 3   AveBedrms   20640 non-null  float64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 4   Population  20640 non-null  float64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 5   AveOccup    20640 non-null  float64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6   Latitude    20640 non-null  float64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 7   Longitude   20640 non-null  float64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dtypes: float64(8)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">memory usage: 1.3 MB</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Chia dữ liệu thành tập huấn luyện và tập kiểm thử</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X_train</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> X_test</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Y_train</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Y_test </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> train_test_split</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> test_size </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> random_state</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Khởi tạo mô hình Random Forest</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RandomForestRegressor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_depth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> random_state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n_estimators </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Fit dữ liệu huấn luyện vào mô hình đã khởi tạo</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X_train</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Y_train</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Dự đoán nhãn trên tập huấn luyện và tập kiểm thử</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Y_predict_train </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> regr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X_train</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Y_predict </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> regr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">predict</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X_test</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-lựa-chọn-những-đặc-trưng-quan-trọng-feature-importance">2. Lựa chọn những đặc trưng quan trọng (feature importance)<a class="hash-link" href="#2-lựa-chọn-những-đặc-trưng-quan-trọng-feature-importance" title="Direct link to heading">​</a></h2><p>Một trong những lí do chúng mình chọn mô hình Random Forest đó là bởi chúng ta có thể dễ dàng trực quan những đặc trưng quan trọng, được sử dụng nhiều trong mô hình. Để đánh giá đặc trưng quan trọng cũng như trực quan hoá thứ tự quan trọng của các đặc trưng này, chúng ta có thể làm như sau:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Hàm trực quan hoá trung bình mức quan trọng của các đặc trưng</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">feature_plot_importance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">importance_df</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rcParams</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">'font.size'</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rcParams</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">"figure.figsize"</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fig</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ax </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subplots</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">arange</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">importance_df</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.77</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rects1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  height </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> importance_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'means'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> width</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  yerr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> importance_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'stds'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  align</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'center'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  ecolor</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'black'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  capsize</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_ylabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'Feature Importance'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_xticks</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_xticklabels</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">importance_df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'feature_labels'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ax</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_title</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'Feature Importance Initial Model'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tight_layout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Đánh giá đặc trưng quan trọng trên tập huấn luyện</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perm_feature_importance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> permutation_importance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> X_train</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Y_train</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Tạo DataFrame chứa nhãn và trung bình, độ lệch chuẩn mức quan trọng</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">importance_df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">'feature_labels'</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> X_train</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">columns</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              </span><span class="token string" style="color:#e3116c">'means'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> perm_feature_importance</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'importances_mean'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                              </span><span class="token string" style="color:#e3116c">'stds'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> perm_feature_importance</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'importances_std'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Trực quan hoá trung bình mức quan trọng của các đặc trưng</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">feature_plot_importance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">importance_df</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="png" src="/assets/images/2022-02-15-xai2-thuc-hanh_6_0-fd9e9f8aefabb255e6ba0c09a028b0f3.png" width="843" height="339" class="img_ev3q"></p><p>Dựa vào feature importance từ mô hình Random Forest, có thể thấy <code>MedInc</code>, <code>AveOccup</code>, <code>HouseAge</code> là 3 đặc trưng quan trọng. Ta hoàn toàn có thể xây dựng 1 mô hình Random Forest mới với chỉ những đặc trưng quan trọng.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Chọn lọc những đặc trưng có điểm feature importance cao</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X_train_reduced </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> X_train</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">loc</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'MedInc'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">'HouseAge'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">'AveOccup'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Khởi tạo mô hình Random Forest</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> RandomForestRegressor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">max_depth </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> random_state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">42</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n_estimators </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X_train_reduced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Y_train</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perm_feature_importance </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> permutation_importance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> X_train_reduced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Y_train</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Tạo DataFrame chứa nhãn và trung bình, độ lệch chuẩn mức quan trọng</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">importance_df_reduced </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DataFrame</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">'feature_labels'</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> X_train_reduced</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">columns</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      </span><span class="token string" style="color:#e3116c">'means'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> perm_feature_importance</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'importances_mean'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                      </span><span class="token string" style="color:#e3116c">'stds'</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> perm_feature_importance</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'importances_std'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Trực quan hoá trung bình mức quan trọng của các đặc trưng</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">feature_plot_importance</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">importance_df_reduced</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="png" src="/assets/images/2022-02-15-xai2-thuc-hanh_8_0-92475a9a40be1443e5defd59951ebc00.png" width="843" height="339" class="img_ev3q"></p><p>Dựa vào feature importance từ mô hình Random Forest, có thể thấy <code>MedInc</code>, <code>AveOccup</code>, <code>HouseAge</code> là 3 đặc trưng quan trọng. Nhưng chỉ dựa vào đặc trưng thì khó có thể thấy được mối liên hệ giữa đặc trưng đó với việc mô hình đưa ra kết quả dự đoán. Để giải quyết vấn đề này, chúng ta sẽ cùng nhau đến với Biểu đồ Phụ thuộc Từng phần (Partial Dependence Plot).</p><h1>3. Minh họa cách tạo ra Biểu đồ Phụ thuộc Từng phần</h1><h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-sử-dụng-scikit-learn">3.1. Sử dụng Scikit-Learn<a class="hash-link" href="#31-sử-dụng-scikit-learn" title="Direct link to heading">​</a></h3><p>Biểu đồ PDP:</p><ul><li>1D: biểu diễn sự phụ thuộc giữa mục tiêu dự đoán và những đặc trương được quan tâm (features of interest - những đặc trưng được lựa chọn bởi feature importance)</li><li>2D: biểu diễn sự phụ thuộc giữa 2 đặc trưng được quan tâm và tác động của nó lên mục tiêu dự đoán</li></ul><p>Chúng ta có thể biểu diễn biểu đồ này thông qua <code>PartialDependenceDisplay.from_estimator()</code> từ thư viện <code>sklearn.inspection</code>.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> sklearn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">inspection </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> PartialDependenceDisplay</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Với biểu đồ DPD 1D,  ta có:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PartialDependenceDisplay</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_estimator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        X_train_reduced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        features </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'MedInc'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        percentiles </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="png" src="/assets/images/2022-02-15-xai2-thuc-hanh_13_0-fafe2d815be638f598dfbfcaa6e00831.png" width="735" height="327" class="img_ev3q"></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PartialDependenceDisplay</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_estimator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        X_train_reduced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        features </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'HouseAge'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        percentiles </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="png" src="/assets/images/2022-02-15-xai2-thuc-hanh_14_0-83488264dc35eaa6099046576d54986c.png" width="735" height="327" class="img_ev3q"></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PartialDependenceDisplay</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_estimator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        X_train_reduced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        features </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'AveOccup'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        percentiles </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="png" src="/assets/images/2022-02-15-xai2-thuc-hanh_15_0-b9bfe0568a4ce13d317c307edb9775e4.png" width="735" height="327" class="img_ev3q"></p><p>Với biểu đồ DPD 2D,  ta có:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MedInc_AvcOccup_disp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PartialDependenceDisplay</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_estimator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                               X_train_reduced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                               features </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                               percentiles </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                               grid_resolution </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="png" src="/assets/images/2022-02-15-xai2-thuc-hanh_17_0-24f95306649bfb9b535a17a1cb359bb9.png" width="750" height="327" class="img_ev3q"></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">MedInc_HouseAge_disp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PartialDependenceDisplay</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_estimator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                               X_train_reduced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                               features </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                               percentiles </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                               grid_resolution </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="png" src="/assets/images/2022-02-15-xai2-thuc-hanh_18_0-fbd74cf6f7e41f58e44b19224f674b76.png" width="730" height="327" class="img_ev3q"></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AveOccup_HouseAge_disp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> PartialDependenceDisplay</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_estimator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                 X_train_reduced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                 features </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                 percentiles </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                                 grid_resolution </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="png" src="/assets/images/2022-02-15-xai2-thuc-hanh_19_0-2857e2874f485d688cc25df6261daa82.png" width="730" height="327" class="img_ev3q"></p><p>Ta hoàn toàn có thể thêm các điểm dữ liệu vào biểu đồ PDP bằng cách sau:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fig</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ax </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">subplots</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">figsize</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">12</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AveOccup_HouseAge_disp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ax </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ax</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">scatter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X_train_reduced</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'AveOccup'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            X_train_reduced</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'HouseAge'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            alpha </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'black'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="png" src="/assets/images/2022-02-15-xai2-thuc-hanh_21_0-973f0a1aac5eaa861a8d501016a4cfc5.png" width="730" height="327" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="32-sử-dụng-thư-viện-pdpbox">3.2. Sử dụng thư viện PDPbox<a class="hash-link" href="#32-sử-dụng-thư-viện-pdpbox" title="Direct link to heading">​</a></h2><ul><li>Cài đặt thư viện: !pip install pdpbox</li><li>Link: <a href="https://github.com/SauceCat/PDPbox" target="_blank" rel="noopener noreferrer">https://github.com/SauceCat/PDPbox</a></li></ul><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> pdpbox </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pdp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Có thể thấy tương tự như biểu đồ PDP của Scikit-Learn, với đặc trưng <code>MedInc</code>, giá nhà trung bình cũng tăng khi thu nhập trung bình tăng (với <code>MedInc</code> lớn hơn 2). Với thu nhập trung bình lớn hơn khoảng 6, giá nhà tăng khá nhiều và ổn định. </p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pdp_MedInc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pdp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pdp_isolate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">X_train_reduced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             model_features</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">X_train_reduced</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">columns</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             feature</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'MedInc'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fig</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> axes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pdp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pdp_plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pdp_MedInc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'MedInc'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> plot_lines</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frac_to_plot</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> plot_pts_dist</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">findfont: Font family ['Arial'] not found. Falling back to DejaVu Sans.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">findfont: Font family ['Arial'] not found. Falling back to DejaVu Sans.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">findfont: Font family ['Arial'] not found. Falling back to DejaVu Sans.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">findfont: Font family ['Arial'] not found. Falling back to DejaVu Sans.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="png" src="/assets/images/2022-02-15-xai2-thuc-hanh_25_1-28075a74f10d03b89a8f1546f071f2bc.png" width="864" height="544" class="img_ev3q"></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pdp_MedInc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pdp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pdp_isolate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">X_train_reduced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             model_features</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">X_train_reduced</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">columns</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             feature</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'HouseAge'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fig</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> axes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pdp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pdp_plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pdp_MedInc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'HouseAge'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> plot_lines</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frac_to_plot</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> plot_pts_dist</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="png" src="/assets/images/2022-02-15-xai2-thuc-hanh_26_0-cb78ba0c8acbc7f282cebcc7691278b3.png" width="889" height="544" class="img_ev3q"></p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pdp_MedInc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pdp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pdp_isolate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">X_train_reduced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             model_features</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">X_train_reduced</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">columns</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             feature</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">'AveOccup'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fig</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> axes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pdp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pdp_plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pdp_MedInc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'AveOccup'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> plot_lines</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> frac_to_plot</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> plot_pts_dist</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="png" src="/assets/images/2022-02-15-xai2-thuc-hanh_27_0-6cdcc155361685da7c3d9499f1be3b89.png" width="882" height="544" class="img_ev3q"></p><p>Thư viện PDPbox cũng cung cấp cả 2 biểu đồ dưới dạng 1D và 2D. Biều đồ 2D phía dưới cho thấy mối quan hệ của giá nhà trung bình với 2 đặc trưng là thu nhập bình quân và độ tuổi của nhà.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">feats </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">'MedInc'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token string" style="color:#e3116c">'HouseAge'</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">p </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pdp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pdp_interact</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">regr</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">X_train_reduced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     X_train_reduced</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">columns</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                     feats</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pdp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pdp_interact_plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">p</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">feats</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="png" src="/assets/images/2022-02-15-xai2-thuc-hanh_29_0-bbb2291d3cbbca69faeb575b8e658d54.png" width="505" height="564" class="img_ev3q"></p><p>Đón xem những trải nghiệm và phân tích cụ thể từ Zootopi tại:</p><ul><li>👉Website: <a href="https://zootopi.dev/blog" target="_blank" rel="noopener noreferrer">https://zootopi.dev/blog</a></li><li>👉Youtube: <a href="https://youtu.be/jCCbCPVXcpQ" target="_blank" rel="noopener noreferrer">https://youtu.be/jCCbCPVXcpQ</a></li><li>👉Facebook: <a href="https://www.facebook.com/aizootopi" target="_blank" rel="noopener noreferrer">https://www.facebook.com/aizootopi</a></li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[XAI - Biểu đồ Phụ thuộc Từng phần]]></title>
            <link>https://zootopi.dev/blog/2022/02/14/xai2</link>
            <guid>/2022/02/14/xai2</guid>
            <pubDate>Mon, 14 Feb 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[XAI - Biểu đồ Phụ thuộc Từng phần]]></description>
            <content:encoded><![CDATA[<p>Khi xây dựng 1 mô hình học máy (ML) chắc hẳn chúng ta đều quen thuộc với việc sử dụng chỉ số quan trọng của các đặc trưng (feature importance) để lựa chọn đặc trưng cho mô hình. Chỉ số này giúp chúng ta biết điều gì quan trọng với mô hình, tuy nhiên, các bạn đã bao giờ thắc mắc những đặc trưng này liên quan như thế nào đến các dự đoán của mô hình?</p><p>Ví dụ trong bài toán dự đoán giá nhà, kinh độ và vĩ độ có ảnh hưởng như thế nào đến giá nhà? Những ngôi nhà có cùng kích thước ở các vị trí khác nhau liệu có giá khác nhau? Hay những ngôi nhà khác kích thước trên cùng khu vực liệu giá sẽ thay đổi như thế nào?</p><p>Partial Dependence Plot (PDP) hay còn gọi là Biểu đồ Phụ thuộc Từng phần sẽ giúp chúng ta trả lời những câu hỏi trên.</p><p><img loading="lazy" alt="PDP" src="/assets/images/xai_pdp-16eae0ea03d03a736d1733d403b88626.png" width="940" height="788" class="img_ev3q"></p><p>Biểu đồ PDP cho thấy tác động cận biên (marginal effect) của 1 (hoặc một vài) đặc trưng được chọn lọc đối với kết quả dự đoán của mô hình. Nói cách khác, chúng ta có thể hiểu sự phụ thuộc một phần (partial dependence) là kết quả dự đoán được mong đợi (expected target) dưới dạng một hàm của các đặc trưng đã được chọn lựa để đưa vào mô hình.</p><p>Một ví dụ có thể thấy ở hình dưới là sự ảnh hưởng của độ tuổi trung bình của nhà lên giá trị trung bình của ngôi nhà đó. Hay với những ngôi nhà có <code>AveOccup</code> (số lượng người cư trú trung bình) nhỏ hơn 2, thì giá nhà phụ thuộc khá lớn vào độ tuổi của căn nhà, trong khi nếu <code>AveOccup</code> lớn hơn 2, thì độ tuổi và giá nhà gần như không phụ thuộc.</p><p>Để giúp các bạn dễ hình dung hơn về Biểu đồ Phụ thuộc Từng Phần, chúng ta sẽ cùng nhau thực hành trên một mô hình đơn giản với bộ dữ liệu về giá nhà trung bình California Housing Dataset (trên Scikit-Learn). Tham khảo bài thực hành đơn giản tại bài viết <a href="https://zootopi.dev/blog/2022/02/15/xai2-thuc-hanh/" target="_blank" rel="noopener noreferrer">XAI - Thực hành với Biểu đồ Phụ thuộc Từng Phần</a>.</p><p>Các thư viện hỗ trợ tạo biểu đồ PDP bao gồm:</p><ul><li>Scikit-learn: Module sklearn.inspection cung cấp cho chúng mình hàm plot_partial_dependence() để tạo ra biểu đồ PDP một cách nhanh chóng. Tham khảo <a href="https://scikit-learn.org/stable/modules/partial_dependence.html" target="_blank" rel="noopener noreferrer">https://scikit-learn.org/stable/modules/partial_dependence.html</a></li><li>PDPbox: một thư viện hỗ trợ biểu diễn các đồ thị một cách nhanh chóng, bao gồm biểu đồ PDP. Tham khảo <a href="https://github.com/SauceCat/PDPbox" target="_blank" rel="noopener noreferrer">https://github.com/SauceCat/PDPbox</a></li></ul><p>Một số nguồn hữu ích về biểu đồ PDP:</p><ul><li><a href="https://towardsdatascience.com/explainable-ai-xai-methods-part-1-partial-dependence-plot-pdp-349441901a3d" target="_blank" rel="noopener noreferrer">https://towardsdatascience.com/explainable-ai-xai-methods-part-1-partial-dependence-plot-pdp-349441901a3d</a></li><li><a href="https://scikit-learn.org/stable/modules/partial_dependence.html" target="_blank" rel="noopener noreferrer">https://scikit-learn.org/stable/modules/partial_dependence.html</a></li></ul><p>Chi tiết về các phương pháp sẽ được chúng mình lên sóng trong thời gian tới, đừng quên follow hashtag #XAI #1phutaicungzootopi để không bỏ lỡ nhé!</p><p>Đón xem những trải nghiệm và phân tích cụ thể từ Zootopi tại:</p><ul><li>👉Website: <a href="https://zootopi.dev/blog" target="_blank" rel="noopener noreferrer">https://zootopi.dev/blog</a></li><li>👉Youtube: <a href="https://youtu.be/jCCbCPVXcpQ" target="_blank" rel="noopener noreferrer">https://youtu.be/jCCbCPVXcpQ</a></li><li>👉Facebook: <a href="https://www.facebook.com/aizootopi" target="_blank" rel="noopener noreferrer">https://www.facebook.com/aizootopi</a></li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[XAI - Các phương pháp diễn giải mô hình]]></title>
            <link>https://zootopi.dev/blog/2022/02/13/xai1</link>
            <guid>/2022/02/13/xai1</guid>
            <pubDate>Sun, 13 Feb 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[XAI - Các phương pháp diễn giải mô hình học máy và học sâu]]></description>
            <content:encoded><![CDATA[<p>Tiếp nối hành trình tìm hiểu về XAI cùng ZootoPi (tham khảo bài trước về <a href="https://zootopi.dev/blog/2022/02/12/xai" target="_blank" rel="noopener noreferrer">XAI - Chiếc hộp đen phía sau AI</a>), 1 phút hôm nay hãy cùng chúng mình phân loại các phương pháp diễn giải 1 mô hình học máy. Cấu trúc của việc giải thích 1 mô hình học máy có thể được xác định bằng nhiều cách khác nhau dựa vào mục đích, thời điểm, hay tính ứng dụng, nhưng phần lớn đều có thể được phân chia theo 3 nhóm chính:</p><ul><li>Nội tại (intrinsic) hay hậu tại (post-hoc)?</li><li>Mô hình bất khả tri (model-agnostic) hay Mô hình cụ thể (model-specific)?</li><li>Cục bộ (local) hay toàn cục (global)?</li></ul><p><img loading="lazy" alt="Explanable AI" src="/assets/images/xai_interpretability-eefd850464d5822bbdedd3a2fa2ed157.png" width="940" height="788" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-nội-tại-intrinsic-hay-hậu-tại-post-hoc">1. Nội tại (intrinsic) hay hậu tại (post-hoc)?<a class="hash-link" href="#1-nội-tại-intrinsic-hay-hậu-tại-post-hoc" title="Direct link to heading">​</a></h2><p>Phương pháp nội tại đề cập đến việc giới hạn độ phức tạp của mô hình. Khi các mô hình đủ đơn giản về cấu trúc, chúng ta có thể hiểu cách mô hình đưa ra dự đoán bằng việc nhìn vào chính mô hình. Ví dụ như các trọng số đã học của 1 mô hình hồi quy tuyến tính (linear regression) hoặc các đường phân chia đã được học với cây quyết định (decision tree) có thể được dùng để giải thích tại sao mô hình lại đưa ra các dự đoán.</p><ul><li>Một số mô hình nội tại phổ biến bao gồm: Linear Regression, Logistic Regression, GLM, GAM, Decision Tree, Decision Rules, RuleFit, KNN, Naive Bayes,...</li></ul><p>Trong khi đó, các phương pháp hậu tại phân tích mô hình sau khi đã được đào tạo, ví dụ như việc hoán vị các đặc trưng quan trọng (permutation feature importance). Các phương pháp này gồm 2 nhánh nhỏ là mô hình bất khả tri (model-agnostic) và mô hình cụ thể (model-specific).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-mô-hình-bất-khả-tri-model-agnostic-hay-mô-hình-cụ-thể-model-specific">2. Mô hình bất khả tri (model-agnostic) hay Mô hình cụ thể (model-specific)?<a class="hash-link" href="#2-mô-hình-bất-khả-tri-model-agnostic-hay-mô-hình-cụ-thể-model-specific" title="Direct link to heading">​</a></h2><p>Mô hình bất khả tri có thể được áp dụng cho bất kì mô hình học máy nào trong khi mô hình cụ thể chỉ có thể áp dụng cho 1 số loại mô hình nhất định. Ví dụ, nếu một phương pháp chỉ hoạt động với mạng neuron (Neural Network) thì nó sẽ được coi là dành riêng cho mô hình đó. Ngược lại, nếu 1 phương pháp giải thích coi mọi mô hình đã được đào tạo là hộp đen thì nó sẽ được coi là mô hình bất khả tri.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-cục-bộ-local-hay-toàn-cục-global">3. Cục bộ (local) hay toàn cục (global)?<a class="hash-link" href="#3-cục-bộ-local-hay-toàn-cục-global" title="Direct link to heading">​</a></h2><p>Phương pháp giải thích cục bộ nhằm giải thích 1 điểm dữ liệu hoặc 1 dự đoán duy nhất trong khi phương pháp toàn cục cố gắng cung cấp lời giải thích toàn diện về cách mô hình hoạt động dựa trên toàn bộ dữ liệu và dự đoán. Các phương pháp cục bộ có thể biến thành kỹ thuật toàn cục thông qua việc tổng hợp các kết quả cục bộ.</p><ul><li>Một số ví dụ cho phương pháp cục bộ có thể kể đến Individual Conditional Expectation Curves, LIME, Scoped Rules (anchors), Counterfactual Explanations, Shapley values, SHAP, ...</li><li>Một số phương pháp toàn cục phổ biến bao gồm Partial dependence plot, Accumulated local effect plots, Feature interaction (H-statistics), Functional decomposition, Permutation feature importance, Global surrogate models, Prototypes and criticisms, ...</li></ul><p>Chi tiết về các phương pháp sẽ được chúng mình lên sóng trong thời gian tới, đừng quên follow hashtag #XAI #1phutaicungzootopi để không bỏ lỡ nhé!</p><p>Đón xem những trải nghiệm và phân tích cụ thể từ Zootopi tại:</p><ul><li>👉Website: <a href="https://zootopi.dev/blog" target="_blank" rel="noopener noreferrer">https://zootopi.dev/blog</a></li><li>👉Youtube: <a href="https://youtu.be/jCCbCPVXcpQ" target="_blank" rel="noopener noreferrer">https://youtu.be/jCCbCPVXcpQ</a></li><li>👉Facebook: <a href="https://www.facebook.com/aizootopi" target="_blank" rel="noopener noreferrer">https://www.facebook.com/aizootopi</a></li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[XAI - Chiếc hộp đen phía sau AI]]></title>
            <link>https://zootopi.dev/blog/2022/02/12/xai</link>
            <guid>/2022/02/12/xai</guid>
            <pubDate>Sat, 12 Feb 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[XAI - MỞ CHIẾC "HỘP ĐEN" PHÍA SAU QUYẾT ĐỊNH CỦA AI]]></description>
            <content:encoded><![CDATA[<p>Sau 1 thời gian vắng bóng team ZootoPi chúng mình đã quay lại và hứa hẹn sẽ lợi hại hơn xưa. Mở đầu năm mới, hãy cùng chúng mình dành 1 phút để tìm hiểu về một trong những lĩnh vực không quá mới nhưng đang rất được quan tâm hiện nay - XAI (hay còn gọi là Explainable AI - Diễn giải AI).</p><p>Những năm gần đây, các thuật toán học máy (ML) và học sâu (DL) ngày càng được ứng dụng trong nhiều lĩnh vực từ y tế, kinh tế, đến tài chính. Các thuật toán liên tục được cải tiến phức tạp hơn để đạt được hiệu quả tối ưu trong hiệu suất cũng như độ chính xác. Tuy khả năng dự đoán mạnh mẽ hơn, các mô hình này vẫn được xem như các hộp đen (black boxes) với hàng loạt phân vân đến từ người dùng như: Làm sao để biết tại sao AI lại đưa ra quyết định này mà không phải quyết định khác? Khi nào thì mô hình dự đoán thành công? Khi nào thất bại? Khi nào có thể tin vào dự đoán của AI?</p><p><img loading="lazy" alt="Explanable AI" src="/assets/images/xai-f99f6c6bdebd364efe486161cae0aecc.png" width="940" height="788" class="img_ev3q"></p><p>Những câu hỏi trên cho ta thấy nhu cầu hiểu được lí do đằng sau 1 dự đoán từ mô hình AI ngày càng cần thiết. Song song với đó là việc giữ cân bằng giữa độ chính xác và khả năng giải thích của 1 mô hình AI - điều mà rất nhiều mô hình ML và DL chưa giải quyết được. Do đó, XAI ra đời để giúp các thuật toán trở nên minh bạch hơn và thay đổi các mô hình AI theo hướng lấy người dùng làm trung tâm (user-centricity). Điều này giúp mô hình AI dễ ứng dụng trong nhiều lĩnh vực khác nhau. Bên cạnh đó, XAI không chỉ giúp việc đánh giá độ tin cậy của 1 mô hình AI trở nên dễ dàng hơn mà còn giúp người dùng có thể tương tác và học hỏi qua lại với AI.</p><p>Các phần tiếp theo trong hành trình cùng ZootoPI tìm hiểu về XAI sẽ tiếp tục được lên sóng trong thời gian tới, bao gồm: các phương pháp diễn giải model ML/DL, đánh giá việc diễn giải model AI, và các thư viện hỗ trợ XAI. Các bạn hãy dành 1 phút mỗi tuần để đồng hành cùng chúng mình nhé!</p><p>Đón xem những trải nghiệm và phân tích cụ thể từ Zootopi tại:</p><ul><li>👉Website: <a href="https://zootopi.dev/blog" target="_blank" rel="noopener noreferrer">https://zootopi.dev/blog</a></li><li>👉Youtube: <a href="https://youtu.be/jCCbCPVXcpQ" target="_blank" rel="noopener noreferrer">https://youtu.be/jCCbCPVXcpQ</a></li><li>👉Facebook: <a href="https://www.facebook.com/aizootopi" target="_blank" rel="noopener noreferrer">https://www.facebook.com/aizootopi</a></li></ul>]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Github Copilot Technical Review]]></title>
            <link>https://zootopi.dev/blog/2021/07/27/copilot</link>
            <guid>/2021/07/27/copilot</guid>
            <pubDate>Tue, 27 Jul 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Copilot technical reviewer]]></description>
            <content:encoded><![CDATA[<p>Nếu bạn hay theo dõi và cập nhật những tin tức về công nghệ và lập trình thì hẳn bạn đã biết về một công cụ lập trình AI mới mang tên Copilot vừa được GitHub chính thức trình làng trong thời gian vừa qua. Nếu bạn chưa biết thì đừng lo lắng vì trong blog này, ZootoPi sẽ giới thiệu cho các bạn về <a href="https://copilot.github.com/" target="_blank" rel="noopener noreferrer">Copilot</a>, người bạn đồng hành hứa hẹn sẽ hỗ trợ anh em code cực kì bá đạo.</p><div class="video-wrap"><div class="video-container"><iframe src="https://www.youtube.com/embed/jCCbCPVXcpQ?autoplay=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen"></iframe></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-copilot-là-gì">1. Copilot là gì?<a class="hash-link" href="#1-copilot-là-gì" title="Direct link to heading">​</a></h2><p><img loading="lazy" alt="copilot" src="/assets/images/copilot-intro-da0b61c38d6b9afbcebe3f73d23a249f.png" width="2856" height="1550" class="img_ev3q"></p><p>Theo trang chủ của Github, Copilot có khả năng tạo ra những dòng code chất lượng trên một loạt ngôn ngữ lập trình bằng những gợi ý ngay bên trong trình soạn thảo của bạn. Hiện tại, bản Technical Preview mới có Python, JavaScript, TypeScript, Ruby và Go và mới sử dụng được trên Visual Code. Tuy nhiên, ZootoPi tin rằng phiên bản hoàn chỉnh sẻ đáp ứng nhiều ngôn ngữ hơn cũng như trải nghiệm trên các IDE đa dạng hơn.</p><p>Phản ứng đầu tiên của ZootoPi khi nhìn thấy Github Copilot đó là ...</p><p><img loading="lazy" alt="amazing" src="/assets/images/wow-e37170caf09d50a18b4ad94e228ab5f7.png" width="241" height="228" class="img_ev3q"></p><p>Tất nhiên đấy là trước khi ZootoPi có bất kỳ ý tưởng nào về cách thức hoạt động của nó.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-tính-năng-của-copilot">2. Tính năng của Copilot<a class="hash-link" href="#2-tính-năng-của-copilot" title="Direct link to heading">​</a></h2><p>Như đã kể trên, Copilot tạo ra những dòng code chất lượng trên nhiều loạt ngôn ngữ bằng những gợi ý ngay bên trong trình soạn thảo của bạn.</p><p>Những gì bạn phải làm là:</p><ul><li>Viết mô tả logic bạn muốn ở comment và GitHub Copilot biến logic đó thành những dòng code.</li><li>Cung cấp cho Copilot một vài ví dụ và để người anh em này tạo ra phần còn lại.</li><li>Kiểm thử với unit test chưa bao giờ dễ dàng hơn vì đã có Copilot đề xuất các thử nghiệm phù hợp với code của bạn.</li><li>Giải pháp Copilot gợi ý đa dạng và bạn toàn quyền lựa chọn phiên bản phù hợp nhất.</li></ul><p>Cho dù bạn đang tiếp cận một ngôn ngữ hoặc framework mới hay chỉ đơn giản là học viết code, đã có Copilot đồng hành cùng các anh em trên mọi mặt trận.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-cách-thức-hoạt-động-của-copilot">3. Cách thức hoạt động của Copilot<a class="hash-link" href="#3-cách-thức-hoạt-động-của-copilot" title="Direct link to heading">​</a></h2><p>Copilot có đưa ra 1 hình ảnh để cho ta biết cách hoạt động khi ta nhập comments hoặc 1 số từ để định nghĩa functions (hàm) và sau đó 1 loạt mã xuất hiện. Ta có thể tiếp tục chấp nhận gợi ý mà nó đưa ra hoặc ta có thể sửa đổi 1 số gợi ý để đúng ý mình hơn.</p><p><img loading="lazy" alt="copilot-flow" src="/assets/images/flow-f92ae46e52a083de79660cffd7a111b5.png" width="1942" height="974" class="img_ev3q"></p><p>ZootoPi gọi cơ chế của Copilot là "<strong><em>Viết comments đi và Copilot sẽ gợi ý code cho bạn</em></strong>". Chấp nhận hay sửa đổi, quyền lợi đều nằm trong tay bạn.</p><p>Vậy những mã nguồn mà Copilot gợi ý ở đây được lấy từ đâu? Nó đến từ chính Github! Khi họ tạo ra mô hình học máy này, họ đã huấn luyện trên hàng triệu kho mã nguồn mở từ Github.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-ưu-điểm-và-nhược-điểm-của-copilot">3. Ưu điểm và nhược điểm của Copilot<a class="hash-link" href="#3-ưu-điểm-và-nhược-điểm-của-copilot" title="Direct link to heading">​</a></h2><table><thead><tr><th>Ưu điểm</th><th>Nhược điểm</th></tr></thead><tbody><tr><td>Tự động hoàn thành mã nguồn.</td><td>Chất lượng mã Copilot đề xuất.</td></tr><tr><td>Tự động điền các đoạn mã lặp lại.</td><td>Vấn đề bản quyền.</td></tr><tr><td>Tạo các phương án thay thế.</td><td>Chi phí sau technical preview.</td></tr><tr><td>Kiểm thử tốn ít công sức.</td><td>Không giúp bạn trở thành một lập trình viên giỏi.</td></tr></tbody></table><p>Đón xem những trải nghiệm và phân tích cụ thể hơn về Copilot tại kênh <a href="https://youtu.be/jCCbCPVXcpQ" target="_blank" rel="noopener noreferrer">ZootoPi</a>.</p><ul><li>👉Website: <a href="https://zootopi.dev/blog" target="_blank" rel="noopener noreferrer">https://zootopi.dev/blog</a></li><li>👉Youtube: <a href="https://youtu.be/jCCbCPVXcpQ" target="_blank" rel="noopener noreferrer">https://youtu.be/jCCbCPVXcpQ</a></li><li>👉Facebook: <a href="https://www.facebook.com/aizootopi" target="_blank" rel="noopener noreferrer">https://www.facebook.com/aizootopi</a></li></ul>]]></content:encoded>
        </item>
    </channel>
</rss>